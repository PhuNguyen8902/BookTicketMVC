{"ast":null,"code":"var _jsxFileName = \"D:\\\\Hoc\\\\Nam3\\\\HK3\\\\LapTrinhJava\\\\BaiTapLon\\\\BookTicketMVC\\\\fe\\\\book-ticket\\\\src\\\\components\\\\demo\\\\DemoAuthRegister.jsx\",\n  _s = $RefreshSig$();\nimport { Box, Button, TextField, Typography } from \"@mui/material\";\nimport { useDispatch } from \"react-redux\";\nimport { useForm } from \"react-hook-form\";\nimport { ErrorMessage } from \"@hookform/error-message\";\nimport authService from \"../../services/authService\";\nimport { signIn } from \"../../store/slices/authSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialForms = {\n  field: {\n    name: \"\",\n    password: \"\",\n    email: \"\",\n    phone: \"\"\n  },\n  options: {\n    name: {\n      required: \"This is required.\"\n    },\n    email: {\n      required: \"This is required.\"\n    },\n    password: {\n      required: \"This is required.\"\n    },\n    phone: {\n      required: \"This is required.\"\n    }\n  }\n};\nexport default function DemoAuthRegister() {\n  _s();\n  const dispatcher = useDispatch();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    defaultValues: initialForms.field\n  });\n  const onSubmit = async form => {\n    const response = await authService.register(form);\n    if (!response.message) {\n      dispatcher(signIn(response));\n      dispatcher({\n        type: \"FETCH_INFO\"\n      });\n    } else {\n      alert(response.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: \"form signInForm\",\n    component: \"form\",\n    onSubmit: handleSubmit(onSubmit),\n    children: [Object.keys(initialForms.field).map((item, index) => /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        size: \"small\",\n        label: item,\n        ...register(item, {\n          ...initialForms.options[item]\n        }),\n        fullWidth: true,\n        margin: \"normal\",\n        type: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        errors: errors,\n        name: item,\n        render: ({\n          message\n        }) => /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"primary\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      sx: {\n        mt: 2\n      },\n      children: \"Sign in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(DemoAuthRegister, \"dX7r3LE0vw1Twu88yrMAzIwlI8U=\", false, function () {\n  return [useDispatch, useForm];\n});\n_c = DemoAuthRegister;\nvar _c;\n$RefreshReg$(_c, \"DemoAuthRegister\");","map":{"version":3,"names":["Box","Button","TextField","Typography","useDispatch","useForm","ErrorMessage","authService","signIn","jsxDEV","_jsxDEV","initialForms","field","name","password","email","phone","options","required","DemoAuthRegister","_s","dispatcher","register","handleSubmit","formState","errors","defaultValues","onSubmit","form","response","message","type","alert","className","component","children","Object","keys","map","item","index","size","label","fullWidth","margin","fileName","_jsxFileName","lineNumber","columnNumber","render","color","variant","sx","mt","_c","$RefreshReg$"],"sources":["D:/Hoc/Nam3/HK3/LapTrinhJava/BaiTapLon/BookTicketMVC/fe/book-ticket/src/components/demo/DemoAuthRegister.jsx"],"sourcesContent":["import { Box, Button, TextField, Typography } from \"@mui/material\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { ErrorMessage } from \"@hookform/error-message\";\r\nimport authService from \"../../services/authService\";\r\nimport { signIn } from \"../../store/slices/authSlice\";\r\n\r\nconst initialForms = {\r\n  field: {\r\n    name: \"\",\r\n    password: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n  },\r\n  options: {\r\n    name: { required: \"This is required.\" },\r\n    email: { required: \"This is required.\" },\r\n    password: { required: \"This is required.\" },\r\n    phone: { required: \"This is required.\" },\r\n  },\r\n};\r\nexport default function DemoAuthRegister() {\r\n  const dispatcher = useDispatch();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    defaultValues: initialForms.field,\r\n  });\r\n\r\n  const onSubmit = async (form) => {\r\n    const response = await authService.register(form);\r\n    if (!response.message) {\r\n      dispatcher(signIn(response));\r\n      dispatcher({ type: \"FETCH_INFO\" });\r\n    } else {\r\n      alert(response.message);\r\n    }\r\n  };\r\n  return (\r\n    <Box\r\n      className=\"form signInForm\"\r\n      component={\"form\"}\r\n      onSubmit={handleSubmit(onSubmit)}\r\n    >\r\n      {Object.keys(initialForms.field).map((item, index) => (\r\n        <Box key={index}>\r\n          <TextField\r\n            size=\"small\"\r\n            label={item}\r\n            {...register(item, {\r\n              ...initialForms.options[item],\r\n            })}\r\n            fullWidth\r\n            margin=\"normal\"\r\n            type={item}\r\n          />\r\n\r\n          <ErrorMessage\r\n            errors={errors}\r\n            name={item}\r\n            render={({ message }) => (\r\n              <Typography color=\"primary\">{message}</Typography>\r\n            )}\r\n          />\r\n        </Box>\r\n      ))}\r\n      <Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 2 }}>\r\n        Sign in\r\n      </Button>\r\n    </Box>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}