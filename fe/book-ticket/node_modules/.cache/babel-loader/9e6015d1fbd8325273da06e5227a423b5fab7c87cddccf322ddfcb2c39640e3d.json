{"ast":null,"code":"var _jsxFileName = \"D:\\\\Hoc\\\\Nam3\\\\HK3\\\\LapTrinhJava\\\\BaiTapLon\\\\BookTicketMVC\\\\fe\\\\book-ticket\\\\src\\\\components\\\\demo\\\\DemoAuthLogin.jsx\",\n  _s = $RefreshSig$();\nimport { Box, Button, TextField, Typography } from \"@mui/material\";\nimport { useDispatch } from \"react-redux\";\nimport { useForm } from \"react-hook-form\";\nimport { ErrorMessage } from \"@hookform/error-message\";\nimport authService from \"../../services/authService\";\nimport { signIn } from \"../../store/slices/authSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialForms = {\n  field: {\n    email: \"\",\n    password: \"\"\n  },\n  options: {\n    email: {\n      required: \"This is required.\"\n    },\n    password: {\n      required: \"This is required.\"\n    }\n  }\n};\nexport default function DemoAuthLogin() {\n  _s();\n  const dispatcher = useDispatch();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    defaultValues: initialForms.field\n  });\n  const onSubmit = async form => {\n    const response = await authService.sigIn(form);\n    if (!response.message) {\n      dispatcher(signIn(response));\n      dispatcher({\n        type: \"FETCH_INFO\"\n      });\n    } else {\n      alert(response.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: \"form signInForm\",\n    component: \"form\",\n    onSubmit: handleSubmit(onSubmit),\n    children: [Object.keys(initialForms.field).map((item, index) => /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        size: \"small\",\n        label: item,\n        ...register(item, {\n          ...initialForms.options[item]\n        }),\n        fullWidth: true,\n        margin: \"normal\",\n        type: item === \"email\" ? \"email\" : item === \"password\" ? \"password\" : \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        errors: errors,\n        name: item,\n        render: ({\n          message\n        }) => /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"primary\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      sx: {\n        mt: 2\n      },\n      children: \"Sign in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(DemoAuthLogin, \"dX7r3LE0vw1Twu88yrMAzIwlI8U=\", false, function () {\n  return [useDispatch, useForm];\n});\n_c = DemoAuthLogin;\nvar _c;\n$RefreshReg$(_c, \"DemoAuthLogin\");","map":{"version":3,"names":["Box","Button","TextField","Typography","useDispatch","useForm","ErrorMessage","authService","signIn","jsxDEV","_jsxDEV","initialForms","field","email","password","options","required","DemoAuthLogin","_s","dispatcher","register","handleSubmit","formState","errors","defaultValues","onSubmit","form","response","sigIn","message","type","alert","className","component","children","Object","keys","map","item","index","size","label","fullWidth","margin","fileName","_jsxFileName","lineNumber","columnNumber","name","render","color","variant","sx","mt","_c","$RefreshReg$"],"sources":["D:/Hoc/Nam3/HK3/LapTrinhJava/BaiTapLon/BookTicketMVC/fe/book-ticket/src/components/demo/DemoAuthLogin.jsx"],"sourcesContent":["import { Box, Button, TextField, Typography } from \"@mui/material\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { ErrorMessage } from \"@hookform/error-message\";\r\nimport authService from \"../../services/authService\";\r\nimport { signIn } from \"../../store/slices/authSlice\";\r\n\r\nconst initialForms = {\r\n  field: {\r\n    email: \"\",\r\n    password: \"\",\r\n  },\r\n  options: {\r\n    email: { required: \"This is required.\" },\r\n    password: { required: \"This is required.\" },\r\n  },\r\n};\r\nexport default function DemoAuthLogin() {\r\n  const dispatcher = useDispatch();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    defaultValues: initialForms.field,\r\n  });\r\n\r\n  const onSubmit = async (form) => {\r\n    const response = await authService.sigIn(form);\r\n    if (!response.message) {\r\n      dispatcher(signIn(response));\r\n      dispatcher({ type: \"FETCH_INFO\" });\r\n    } else {\r\n      alert(response.message);\r\n    }\r\n  };\r\n  return (\r\n    <Box\r\n      className=\"form signInForm\"\r\n      component={\"form\"}\r\n      onSubmit={handleSubmit(onSubmit)}\r\n    >\r\n      {Object.keys(initialForms.field).map((item, index) => (\r\n        <Box key={index}>\r\n          <TextField\r\n            size=\"small\"\r\n            label={item}\r\n            {...register(item, {\r\n              ...initialForms.options[item],\r\n            })}\r\n            fullWidth\r\n            margin=\"normal\"\r\n            type={\r\n              item === \"email\"\r\n                ? \"email\"\r\n                : item === \"password\"\r\n                ? \"password\"\r\n                : \"text\"\r\n            }\r\n          />\r\n\r\n          <ErrorMessage\r\n            errors={errors}\r\n            name={item}\r\n            render={({ message }) => (\r\n              <Typography color=\"primary\">{message}</Typography>\r\n            )}\r\n          />\r\n        </Box>\r\n      ))}\r\n      <Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 2 }}>\r\n        Sign in\r\n      </Button>\r\n    </Box>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}